# =============================================================================
# AIChatBot - Multi-Agent RAG System Environment Configuration
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=AIChatBot
APP_VERSION=2.0.0
APP_HOST=0.0.0.0
APP_PORT=8000
ENV=development
DEBUG=true
TIMEZONE=Asia/Ho_Chi_Minh

# =============================================================================
# SECURITY (REQUIRED - CHANGE IN PRODUCTION)
# =============================================================================
SECRET_KEY=your-super-secret-key-change-in-production
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_DB=ai_chatbot
POSTGRES_USER=ai_user
POSTGRES_PASSWORD=secure_password_123
POSTGRES_PORT=5432
DATABASE_URL=postgresql://ai_user:secure_password_123@postgres:5432/ai_chatbot

# =============================================================================
# REDIS CACHE
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_MEMORY=512mb

# =============================================================================
# VECTOR DATABASE (MILVUS)
# =============================================================================
MILVUS_PUBLIC_HOST=milvus_public
MILVUS_PUBLIC_PORT=19530
MILVUS_PRIVATE_HOST=milvus_private
MILVUS_PRIVATE_PORT=19531
MILVUS_COLLECTION_PREFIX=rag
MILVUS_VECTOR_DIM=1024

# =============================================================================
# OBJECT STORAGE (MINIO)
# =============================================================================
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
STORAGE_BUCKET_PREFIX=rag

# =============================================================================
# MESSAGE QUEUE (KAFKA)
# =============================================================================
KAFKA_PORT=9092
KAFKA_DOCUMENT_TOPIC=document_processing
KAFKA_CONSUMER_GROUP=document_processors

# =============================================================================
# LLM API KEYS (Choose one or more)
# =============================================================================

# Google Gemini API
GEMINI_API_KEY=your_gemini_api_key_here

# Anthropic Claude API
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Mistral AI API
MISTRAL_API_KEY=your_mistral_api_key_here

# OpenAI API (if using)
OPENAI_API_KEY=your_openai_api_key_here

# =============================================================================
# EMBEDDING CONFIGURATION
# =============================================================================
BGE_M3_MODEL=BAAI/bge-m3
BGE_M3_BATCH_SIZE=12
BGE_M3_USE_FP16=false
BGE_M3_MAX_LENGTH=8192

# =============================================================================
# WORKFLOW CONFIGURATION
# =============================================================================
WORKFLOW_MAX_ITERATIONS=10
WORKFLOW_TIMEOUT_SECONDS=300
WORKFLOW_ENABLE_REFLECTION=true
WORKFLOW_ENABLE_SEMANTIC_ROUTING=true

# =============================================================================
# ORCHESTRATOR SETTINGS
# =============================================================================
ORCHESTRATOR_ENABLED=true
ORCHESTRATOR_STRATEGY=llm_orchestrator
ORCHESTRATOR_MAX_AGENTS_PER_QUERY=3
ORCHESTRATOR_CONFIDENCE_THRESHOLD=0.7

# =============================================================================
# DOCUMENT PROCESSING
# =============================================================================
DOCLING_ENABLE_OCR=true
DOCLING_ENABLE_TABLE_STRUCTURE=true
DOCLING_ENABLE_PICTURE=true
LANGCHAIN_FALLBACK_ENABLED=true
MAX_FILE_SIZE_MB=50

# =============================================================================
# MMR (Maximum Marginal Relevance) SETTINGS
# =============================================================================
MMR_LAMBDA_DEFAULT=0.7
MMR_TOP_K_DEFAULT=10

# =============================================================================
# EMAIL CONFIGURATION (OPTIONAL)
# =============================================================================
EMAIL_TEMPLATES_DIR=templates/email
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_TLS=true
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
EMAIL_FROM_NAME=AI Chatbot
EMAIL_FROM=no-reply@yourcompany.com

# =============================================================================
# RESET/INVITE TOKEN SETTINGS
# =============================================================================
RESET_TOKEN_TTL_MINUTES=20
INVITE_TOKEN_TTL_DAYS=7

# =============================================================================
# MAINTAINER ACCOUNT (SYSTEM ADMIN)
# =============================================================================
MAINTAINER_USERNAME=admin
MAINTAINER_EMAIL=admin@yourcompany.com
MAINTAINER_PASSWORD=secure_admin_password_123

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
BASE_URL=http://localhost:3001
API_URL=http://localhost:15000
HOST_APP_PORT=15000

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_URL=http://localhost:9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_URL=http://localhost:3000
GRAFANA_INTERNAL_URL=http://grafana:3000
GRAFANA_DASHBOARD_IDS=2204

# Loki
LOKI_PORT=3100
LOKI_URL=http://loki:3100

# Prometheus Data Source UIDs
PROM_DS_UID=prometheus
LOKI_DS_UID=loki

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_DIR=/app/logs

# =============================================================================
# DOCKER COMPOSE OVERRIDES
# =============================================================================
PROTOCOL=http
DOMAIN=localhost

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Ollama (Local LLM - Optional)
OLLAMA_PORT=11434

# Hot reload for development
UVICORN_RELOAD=true

# Debug mode
FASTAPI_DEBUG=true

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================

# Uncomment and modify for production deployment
# ENV=production
# DEBUG=false
# LOG_LEVEL=WARNING
# PROTOCOL=https
# DOMAIN=yourdomain.com
# BASE_URL=https://yourdomain.com
# API_URL=https://api.yourdomain.com

# Production database with connection pooling
# DATABASE_MAX_CONNECTIONS=20
# DATABASE_POOL_TIMEOUT=30

# Production Redis with persistence
# REDIS_PERSISTENCE=true
# REDIS_MAX_MEMORY=2gb

# Production Milvus with clustering
# MILVUS_CLUSTER_MODE=true
# MILVUS_REPLICAS=3
